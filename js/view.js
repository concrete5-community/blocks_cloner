(()=>{"use strict";var e,t,n,l={417:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.hook=function(){document.addEventListener("DOMContentLoaded",(function(){var e;null===(e=window.ConcreteEvent)||void 0===e||e.subscribe("ConcreteMenuShow",(function(e,t){var n=null==t?void 0:t.menu,r=null==t?void 0:t.menuElement;n&&r&&function(e,t){var n,r=1===(null===(n=e.$element)||void 0===n?void 0:n.length)?e.$element[0]:null;if(r){var i=(0,o.parseArea)(r);if(null!==i)!function(e,t,n){if(!t.find("a[data-ccm-blocks-cloner]").length){var o=t.find("a:last");0!==o.length&&o.after($("<a data-ccm-blocks-cloner />").attr("dialog-title","Import to ".concat(n.displayName)).attr("class","dialog-launch dropdown-item").attr("dialog-width","90%").attr("dialog-height","80%").attr("href","".concat(window.CCM_DISPATCHER_FILENAME,"/ccm/blocks_cloner/dialogs/import?cID=").concat(window.CCM_CID,"&aID=").concat(n.id,"&aHandle=").concat(encodeURIComponent(n.handle))).text((0,l.localize)("import")||"Import").dialog())}}(0,t,i);else{var a=(0,o.parseBlock)(r);null!==a&&function(e,t,n){if(!t.find("a[data-ccm-blocks-cloner]").length){var o=t.find("a:last");0!==o.length&&o.after($("<a data-ccm-blocks-cloner />").attr("dialog-title","Export ".concat(n.displayName)).attr("class","dialog-launch dropdown-item").attr("dialog-width","90%").attr("dialog-height","80%").attr("href","".concat(window.CCM_DISPATCHER_FILENAME,"/ccm/blocks_cloner/dialogs/export?cID=").concat(window.CCM_CID,"&bID=").concat(n.id)).text((0,l.localize)("export")||"Export").dialog())}}(0,t,a)}}}(n,r)}))}))};var l=n(438),o=n(753)},438:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.localize=function(e){var t,n=null===(t=window.ccmBlocksClonerI18N)||void 0===t?void 0:t[e];return"string"==typeof n?n:null},t.getBlockTypeName=function(e){var t;return(null===(t=window.ccmBlocksClonerI18N)||void 0===t?void 0:t.blockTypeNames[e])||null}},447:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setElementHighlighted=function e(t,o,r){if(void 0===r&&(r=!1),o){if(n===t)return void(r&&l(n));null!==n&&e(n,!1)}o!==("1"===t.dataset.blocksClonerHighlighted)&&(o?(t.dataset.blocksClonerRestoreOutline=t.style.outline||"",t.style.outline="2px solid red",t.dataset.blocksClonerHighlighted="1",n=t):(t.style.outline=t.dataset.blocksClonerRestoreOutline||"",delete t.dataset.blocksClonerHighlighted,delete t.dataset.blocksClonerRestoreOutline,n=null)),n&&r&&l(n)};var n=null;function l(e){e.scrollIntoView&&function(e,t){new IntersectionObserver((function(e,n){t(e.some((function(e){return e.isIntersecting}))),n.disconnect()}),{root:null,rootMargin:"0px",threshold:.1}).observe(e)}(e,(function(t){if(!t)try{e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}catch(e){}}))}},753:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseArea=r,t.parseBlock=i,t.getPageStructure=function(e){e=Object.assign({skipAreasWithoutBlocks:!1,skipBlocksWithoutChildAreas:!1},e||{});var t={children:[]};return a(document.body,t,e),t.children.filter((function(t){return t.type===l.Area&&(!e.skipAreasWithoutBlocks||t.children.length>0)}))};var l,o=n(438);function r(e){if("DIV"!==e.tagName)return null;var t=Number(e.getAttribute("data-area-id"))||0;if(t<=0)return null;var n=e.getAttribute("data-area-handle");if(!n)return null;var o=e.getAttribute("data-area-display-name");return o?{type:l.Area,element:e,id:t,handle:n,displayName:o,isGlobal:e.classList.contains("ccm-global-area"),children:[]}:null}function i(e){if("DIV"!==e.tagName)return null;var t=Number(e.getAttribute("data-block-id"))||0;if(t<=0)return null;var n=e.getAttribute("data-block-type-handle");return n?{type:l.Block,element:e,id:t,handle:n,displayName:(0,o.getBlockTypeName)(n)||n,children:[]}:null}function a(e,t,n){var o=r(e),d=o?null:i(e),u=o||d,s=t;u&&(t.children.push(u),s=u),Array.from(e.children).forEach((function(e){return a(e,s,n)})),null!==d&&n.skipBlocksWithoutChildAreas&&(c(d,l.Area)||t.children.splice(t.children.indexOf(d),1)),null!==o&&n.skipAreasWithoutBlocks&&(c(o,l.Block)||t.children.splice(t.children.indexOf(o),1))}function c(e,t){return!!e.children.some((function(e){return e.type===t}))||e.children.some((function(e){return c(e,t)}))}!function(e){e.Area="area",e.Block="block"}(l||(l={}))}},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={exports:{}};return l[e](n,n.exports,r),n.exports}e=r(447),t=r(417),n=r(753),void 0===window.ccmBlocksCloner&&(window.ccmBlocksCloner={getPageStructure:n.getPageStructure,setElementHighlighted:e.setElementHighlighted},(0,t.hook)())})();
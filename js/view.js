(()=>{"use strict";var e,t,l,n={417:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.hook=function(){document.addEventListener("DOMContentLoaded",(function(){var e;null===(e=window.ConcreteEvent)||void 0===e||e.subscribe("ConcreteMenuShow",(function(e,t){var l=null==t?void 0:t.menu,r=null==t?void 0:t.menuElement;l&&r&&function(e,t){var l,r=1===(null===(l=e.$element)||void 0===l?void 0:l.length)?e.$element[0]:null;if(r){var i=(0,o.parseArea)(r);if(null!==i)!function(e,t,l){if(!t.find("a[data-ccm-blocks-cloner]").length){var o=t.find("a:last");0!==o.length&&o.after($("<a data-ccm-blocks-cloner />").attr("dialog-title",((0,n.localize)("importBlockFromXmlIntoAreaName")||"Import Block from XML into %s").replace("%s",l.displayName)).attr("class","dialog-launch dropdown-item").attr("dialog-width","90%").attr("dialog-height","80%").attr("href","".concat(window.CCM_DISPATCHER_FILENAME,"/ccm/blocks_cloner/dialogs/import?cID=").concat(window.CCM_CID,"&aID=").concat(l.id,"&aHandle=").concat(encodeURIComponent(l.handle))).text((0,n.localize)("importBlockFromXml")||"Import Block from XML").dialog())}}(0,t,i);else{var a=(0,o.parseBlock)(r);null!==a&&function(e,t,l){if(!t.find("a[data-ccm-blocks-cloner]").length){var o=t.find("a:last");0!==o.length&&o.after($("<a data-ccm-blocks-cloner />").attr("dialog-title",((0,n.localize)("exportBlockTypeNameAsXml")||"Export %s block as XML").replace("%s",l.displayName)).attr("class","dialog-launch dropdown-item").attr("dialog-width","90%").attr("dialog-height","80%").attr("href","".concat(window.CCM_DISPATCHER_FILENAME,"/ccm/blocks_cloner/dialogs/export?cID=").concat(window.CCM_CID,"&bID=").concat(l.id)).text((0,n.localize)("exportAsXml")||"Export as XML").dialog())}}(0,t,a)}}}(l,r)}))}))};var n=l(438),o=l(753)},438:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.localize=function(e){var t,l=null===(t=window.ccmBlocksClonerI18N)||void 0===t?void 0:t[e];return"string"==typeof l?l:null},t.getBlockTypeName=function(e){var t;return(null===(t=window.ccmBlocksClonerI18N)||void 0===t?void 0:t.blockTypeNames[e])||null}},447:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setElementHighlighted=function e(t,o,r){if(void 0===r&&(r=!1),o){if(l===t)return void(r&&n(l));null!==l&&e(l,!1)}o!==("1"===t.dataset.blocksClonerHighlighted)&&(o?(t.dataset.blocksClonerRestoreOutline=t.style.outline||"",t.style.outline="2px solid red",t.dataset.blocksClonerHighlighted="1",l=t):(t.style.outline=t.dataset.blocksClonerRestoreOutline||"",delete t.dataset.blocksClonerHighlighted,delete t.dataset.blocksClonerRestoreOutline,l=null)),l&&r&&n(l)};var l=null;function n(e){e.scrollIntoView&&function(e,t){new IntersectionObserver((function(e,l){t(e.some((function(e){return e.isIntersecting}))),l.disconnect()}),{root:null,rootMargin:"0px",threshold:.1}).observe(e)}(e,(function(t){if(!t)try{e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}catch(e){}}))}},753:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseArea=r,t.parseBlock=i,t.getPageStructure=function(e){e=Object.assign({skipAreasWithoutBlocks:!1,skipBlocksWithoutChildAreas:!1},e||{});var t={children:[]};return a(document.body,t,e),t.children.filter((function(t){return t.type===n.Area&&(!e.skipAreasWithoutBlocks||t.children.length>0)}))};var n,o=l(438);function r(e){if("DIV"!==e.tagName)return null;var t=Number(e.getAttribute("data-area-id"))||0;if(t<=0)return null;var l=e.getAttribute("data-area-handle");if(!l)return null;var o=e.getAttribute("data-area-display-name");return o?{type:n.Area,element:e,id:t,handle:l,displayName:o,isGlobal:e.classList.contains("ccm-global-area"),children:[]}:null}function i(e){if("DIV"!==e.tagName)return null;var t=Number(e.getAttribute("data-block-id"))||0;if(t<=0)return null;var l=e.getAttribute("data-block-type-handle");return l?{type:n.Block,element:e,id:t,handle:l,displayName:(0,o.getBlockTypeName)(l)||l,children:[]}:null}function a(e,t,l){var o=r(e),d=o?null:i(e),s=o||d,u=t;s&&(t.children.push(s),u=s),Array.from(e.children).forEach((function(e){return a(e,u,l)})),null!==d&&l.skipBlocksWithoutChildAreas&&(c(d,n.Area)||t.children.splice(t.children.indexOf(d),1)),null!==o&&l.skipAreasWithoutBlocks&&(c(o,n.Block)||t.children.splice(t.children.indexOf(o),1))}function c(e,t){return!!e.children.some((function(e){return e.type===t}))||e.children.some((function(e){return c(e,t)}))}!function(e){e.Area="area",e.Block="block"}(n||(n={}))}},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var l=o[e]={exports:{}};return n[e](l,l.exports,r),l.exports}e=r(447),t=r(417),l=r(753),void 0===window.ccmBlocksCloner&&(window.ccmBlocksCloner={getPageStructure:l.getPageStructure,setElementHighlighted:e.setElementHighlighted},(0,t.hook)())})();